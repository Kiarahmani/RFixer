(((a|b)a*ba)*|((a|b)a*b)?)*
+++
aab
bba
bb
ab
baba
aaab
---
bbbab
abbba
ababa
babbab
abbabbb
bbbaba
bbbbbab
abbab
aabbb
bbbabbab
aabab
bbbb
abbbbb
abbaab
bbab
